 allocate buffer  read usercode into buffer  put code size at the first 4 bytes  handle  EP  data  length  xfered  timeout  allocate buffer  read usercode into buffer  put code size at the first 4 bytes  handle  EP  data  length  xfered  timeout  allocate buffer  read usercode into buffer  put code size at the first 4 bytes  handle  EP  data  length  xfered  timeout 