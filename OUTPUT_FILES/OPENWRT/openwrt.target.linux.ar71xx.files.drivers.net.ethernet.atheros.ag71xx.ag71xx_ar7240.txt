
 *  Driver for the built-in ethernet switch of the Atheros AR7240 SoC
 *  Copyright (c) 2010 Gabor Juhos <juhosg@openwrt.org>
 *  Copyright (c) 2010 Felix Fietkau <nbd@nbd.name>
 *
 *  This program is free software; you can redistribute it and/or modify it
 *  under the terms of the GNU General Public License version 2 as published
 *  by the Free Software Foundation.
 *
  Capture the hardware statistics for all ports  Wait for the capturing to complete.  Enable CPU port, and disable mirror port  Setup TAG priority mapping  Enable aging, MAC replacing  5 min age time  Enable ARP frame acknowledge  Enable Broadcast/Multicast frames transmitted to the CPU  setup MTU  Enable MIB counters  Enable ARP frame acknowledge, aging, MAC replacing  5 min age time  Enable Broadcast frames transmitted to the CPU  setup MTU  setup Service TAG  inspired by phy_poll_reset in drivers/net/phy/phy_device.c  Set all ports to disabled state.  Wait for transmit queues to drain.  Reset the switch.  setup PHYs  Set the default VID for this port  preserve mirror rx&tx flags  allow the port to talk to all other ports, but exclude its
	 * own ID to prevent frames from being reflected back to the
	 * port that they came from  make sure no invalid PVIDs get set  make sure that an untagged port does not
			 * appear in other vlans  flush all vlan translation unit entries  calculate the port destination masks and load vlans
		 * into the vlan translation unit  vlan disabled:
		 * isolate all ports, but connect them to the cpu port  update the port destination mask registers and tag settings  initialize defaults 
 *  Driver for the built-in ethernet switch of the Atheros AR7240 SoC
 *  Copyright (c) 2010 Gabor Juhos <juhosg@openwrt.org>
 *  Copyright (c) 2010 Felix Fietkau <nbd@nbd.name>
 *
 *  This program is free software; you can redistribute it and/or modify it
 *  under the terms of the GNU General Public License version 2 as published
 *  by the Free Software Foundation.
 *
  Capture the hardware statistics for all ports  Wait for the capturing to complete.  Enable CPU port, and disable mirror port  Setup TAG priority mapping  Enable aging, MAC replacing  5 min age time  Enable ARP frame acknowledge  Enable Broadcast/Multicast frames transmitted to the CPU  setup MTU  Enable MIB counters  Enable ARP frame acknowledge, aging, MAC replacing  5 min age time  Enable Broadcast frames transmitted to the CPU  setup MTU  setup Service TAG  inspired by phy_poll_reset in drivers/net/phy/phy_device.c  Set all ports to disabled state.  Wait for transmit queues to drain.  Reset the switch.  setup PHYs  Set the default VID for this port  preserve mirror rx&tx flags  allow the port to talk to all other ports, but exclude its
	 * own ID to prevent frames from being reflected back to the
	 * port that they came from  make sure no invalid PVIDs get set  make sure that an untagged port does not
			 * appear in other vlans  flush all vlan translation unit entries  calculate the port destination masks and load vlans
		 * into the vlan translation unit  vlan disabled:
		 * isolate all ports, but connect them to the cpu port  update the port destination mask registers and tag settings  initialize defaults 
 *  Driver for the built-in ethernet switch of the Atheros AR7240 SoC
 *  Copyright (c) 2010 Gabor Juhos <juhosg@openwrt.org>
 *  Copyright (c) 2010 Felix Fietkau <nbd@nbd.name>
 *
 *  This program is free software; you can redistribute it and/or modify it
 *  under the terms of the GNU General Public License version 2 as published
 *  by the Free Software Foundation.
 *
  Capture the hardware statistics for all ports  Wait for the capturing to complete.  Enable CPU port, and disable mirror port  Setup TAG priority mapping  Enable aging, MAC replacing  5 min age time  Enable ARP frame acknowledge  Enable Broadcast/Multicast frames transmitted to the CPU  setup MTU  Enable MIB counters  Enable ARP frame acknowledge, aging, MAC replacing  5 min age time  Enable Broadcast frames transmitted to the CPU  setup MTU  setup Service TAG  inspired by phy_poll_reset in drivers/net/phy/phy_device.c  Set all ports to disabled state.  Wait for transmit queues to drain.  Reset the switch.  setup PHYs  Set the default VID for this port  preserve mirror rx&tx flags  allow the port to talk to all other ports, but exclude its
	 * own ID to prevent frames from being reflected back to the
	 * port that they came from  make sure no invalid PVIDs get set  make sure that an untagged port does not
			 * appear in other vlans  flush all vlan translation unit entries  calculate the port destination masks and load vlans
		 * into the vlan translation unit  vlan disabled:
		 * isolate all ports, but connect them to the cpu port  update the port destination mask registers and tag settings  initialize defaults 
 *  Driver for the built-in ethernet switch of the Atheros AR7240 SoC
 *  Copyright (c) 2010 Gabor Juhos <juhosg@openwrt.org>
 *  Copyright (c) 2010 Felix Fietkau <nbd@nbd.name>
 *
 *  This program is free software; you can redistribute it and/or modify it
 *  under the terms of the GNU General Public License version 2 as published
 *  by the Free Software Foundation.
 *
  Capture the hardware statistics for all ports  Wait for the capturing to complete.  Enable CPU port, and disable mirror port  Setup TAG priority mapping  Enable aging, MAC replacing  5 min age time  Enable ARP frame acknowledge  Enable Broadcast/Multicast frames transmitted to the CPU  setup MTU  Enable MIB counters  Enable ARP frame acknowledge, aging, MAC replacing  5 min age time  Enable Broadcast frames transmitted to the CPU  setup MTU  setup Service TAG  inspired by phy_poll_reset in drivers/net/phy/phy_device.c  Set all ports to disabled state.  Wait for transmit queues to drain.  Reset the switch.  setup PHYs  Set the default VID for this port  preserve mirror rx&tx flags  allow the port to talk to all other ports, but exclude its
	 * own ID to prevent frames from being reflected back to the
	 * port that they came from  make sure no invalid PVIDs get set  make sure that an untagged port does not
			 * appear in other vlans  flush all vlan translation unit entries  calculate the port destination masks and load vlans
		 * into the vlan translation unit  vlan disabled:
		 * isolate all ports, but connect them to the cpu port  update the port destination mask registers and tag settings  initialize defaults 