 Game_Music_Emu 0.6-pre. http://www.slack.net/~ant/ Copyright (C) 2006 Shay Green. This module is free software; you
can redistribute it and/or modify it under the terms of the GNU Lesser
General Public License as published by the Free Software Foundation; either
version 2.1 of the License, or (at your option) any later version. This
module is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more
details. You should have received a copy of the GNU Lesser General Public
License along with this module; if not, write to the Free Software Foundation,
Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA  defaults Init all stuff Initialize all apus just once (?) Track info Setupg *= 0.75;g *= 1.2; dprintf( "SCC accessed\n" );  warning( core.warning() );  warning( "Unknown data in header" );  warning( "Unknown data in header" );  warning( "Invalid extra_header_size" );  MSX SMS TODO: support Sega Master System sms.psg sms.fm MSX msx.psg if ( this->header.device_flags & 0x10 )
			warning( "MSX stereo not supported" );  msx.music msx.audio msx.scc warning( "FM sound not supported" );  Opl_Apu is really slow Sega Master System MSX Emulation TODO: SCC+ support selects between mapping areas (we just always enable both)if ( (unsigned) (scc_addr - 0x90) < 0x10 )  scc_addr -= 0x10; // 0x90-0x9F mirrors to 0x80-0x8F PPI cpu_out( time, addr, data );  PPI return cpu_in( time, addr );  MUSIC sample rate can't be changed once set Set bass frequency sample rate must be set first all or nothing sample rate must be set first Remap track if playlist available copy driver code to lo RAM $0001: WRTPSG $0009: RDPSG $0093: WRTPSG vector $0096: RDPSG vector copy non-banked data into RAM if ( load_size != orig_load_size )
		warning( "Excessive data size" );  check available bank data warning( "Bank data missing" ); dprintf( "load_size : $%X\n", load_size );dprintf( "bank_size : $%X\n", bank_size );dprintf( "bank_count: %d (%d claimed)\n", bank_count, this->header.bank_mode & 0x7F ); convert filter times to samples Tell/Seek for long skip, mute sound round to multiple of 2048 start_track() must have been called already Remute voices Game_Music_Emu 0.6-pre. http://www.slack.net/~ant/ Copyright (C) 2006 Shay Green. This module is free software; you
can redistribute it and/or modify it under the terms of the GNU Lesser
General Public License as published by the Free Software Foundation; either
version 2.1 of the License, or (at your option) any later version. This
module is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more
details. You should have received a copy of the GNU Lesser General Public
License along with this module; if not, write to the Free Software Foundation,
Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA  defaults Init all stuff Initialize all apus just once (?) Track info Setupg *= 0.75;g *= 1.2; dprintf( "SCC accessed\n" );  warning( core.warning() );  warning( "Unknown data in header" );  warning( "Unknown data in header" );  warning( "Invalid extra_header_size" );  MSX SMS TODO: support Sega Master System sms.psg sms.fm MSX msx.psg if ( this->header.device_flags & 0x10 )
			warning( "MSX stereo not supported" );  msx.music msx.audio msx.scc warning( "FM sound not supported" );  Opl_Apu is really slow Sega Master System MSX Emulation TODO: SCC+ support selects between mapping areas (we just always enable both)if ( (unsigned) (scc_addr - 0x90) < 0x10 )  scc_addr -= 0x10; // 0x90-0x9F mirrors to 0x80-0x8F PPI cpu_out( time, addr, data );  PPI return cpu_in( time, addr );  MUSIC sample rate can't be changed once set Set bass frequency sample rate must be set first all or nothing sample rate must be set first Remap track if playlist available copy driver code to lo RAM $0001: WRTPSG $0009: RDPSG $0093: WRTPSG vector $0096: RDPSG vector copy non-banked data into RAM if ( load_size != orig_load_size )
		warning( "Excessive data size" );  check available bank data warning( "Bank data missing" ); dprintf( "load_size : $%X\n", load_size );dprintf( "bank_size : $%X\n", bank_size );dprintf( "bank_count: %d (%d claimed)\n", bank_count, this->header.bank_mode & 0x7F ); convert filter times to samples Tell/Seek for long skip, mute sound round to multiple of 2048 start_track() must have been called already Remute voices Game_Music_Emu 0.6-pre. http://www.slack.net/~ant/ Copyright (C) 2006 Shay Green. This module is free software; you
can redistribute it and/or modify it under the terms of the GNU Lesser
General Public License as published by the Free Software Foundation; either
version 2.1 of the License, or (at your option) any later version. This
module is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more
details. You should have received a copy of the GNU Lesser General Public
License along with this module; if not, write to the Free Software Foundation,
Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA  defaults Init all stuff Initialize all apus just once (?) Track info Setupg *= 0.75;g *= 1.2; dprintf( "SCC accessed\n" );  warning( core.warning() );  warning( "Unknown data in header" );  warning( "Unknown data in header" );  warning( "Invalid extra_header_size" );  MSX SMS TODO: support Sega Master System sms.psg sms.fm MSX msx.psg if ( this->header.device_flags & 0x10 )
			warning( "MSX stereo not supported" );  msx.music msx.audio msx.scc warning( "FM sound not supported" );  Opl_Apu is really slow Sega Master System MSX Emulation TODO: SCC+ support selects between mapping areas (we just always enable both)if ( (unsigned) (scc_addr - 0x90) < 0x10 )  scc_addr -= 0x10; // 0x90-0x9F mirrors to 0x80-0x8F PPI cpu_out( time, addr, data );  PPI return cpu_in( time, addr );  MUSIC sample rate can't be changed once set Set bass frequency sample rate must be set first all or nothing sample rate must be set first Remap track if playlist available copy driver code to lo RAM $0001: WRTPSG $0009: RDPSG $0093: WRTPSG vector $0096: RDPSG vector copy non-banked data into RAM if ( load_size != orig_load_size )
		warning( "Excessive data size" );  check available bank data warning( "Bank data missing" ); dprintf( "load_size : $%X\n", load_size );dprintf( "bank_size : $%X\n", bank_size );dprintf( "bank_count: %d (%d claimed)\n", bank_count, this->header.bank_mode & 0x7F ); convert filter times to samples Tell/Seek for long skip, mute sound round to multiple of 2048 start_track() must have been called already Remute voices